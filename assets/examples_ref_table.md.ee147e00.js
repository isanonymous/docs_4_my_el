import{_ as s,c as l,o as a,a as n}from"./app.f56d6317.js";const A=JSON.parse('{"title":"\u4ECE\u8868\u683C\u4E2D\u9009\u53D6\u6570\u636E","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4ECE\u8868\u683C\u4E2D\u9009\u53D6\u6570\u636E","slug":"\u4ECE\u8868\u683C\u4E2D\u9009\u53D6\u6570\u636E"}],"relativePath":"examples/ref_table.md"}'),o={name:"examples/ref_table.md"},p=n(`<h2 id="\u4ECE\u8868\u683C\u4E2D\u9009\u53D6\u6570\u636E" tabindex="-1">\u4ECE\u8868\u683C\u4E2D\u9009\u53D6\u6570\u636E <a class="header-anchor" href="#\u4ECE\u8868\u683C\u4E2D\u9009\u53D6\u6570\u636E" aria-hidden="true">#</a></h2><p>\u6B65\u9AA4:</p><ol><li>\u914D\u7F6E<code>&lt;RefTable&gt;</code>(\u8868\u683C<code>&lt;ETable&gt;</code>\u548C\u5176\u641C\u7D22\u680F<code>&lt;EFilter&gt;)</code>\u7684\u5B57\u6BB5\u9879 // <code>field(&#39;label&#39;, table(), filter() )</code></li><li>\u5728\u4E3B\u9875\u9762\u5B57\u6BB5\u9879\u4E2D\u5B9A\u4E49\u63D2\u69FD\u7C7B\u578B(form_item_slot_prefix)\u7684\u8868\u5355\u5B57\u6BB5, \u4F8B\u5B50\u4E2D\u4F7F\u7528\u7684\u56DE\u663E\u7EC4\u4EF6\u662F<code>&lt;ESelect&gt;</code></li><li>\u8C03\u7528useRefTable\u51FD\u6570, \u4F20\u5165\u521D\u59CB\u503C</li><li>\u4F20\u51651.\u548C2. \u4E2D\u6D89\u53CA\u7EC4\u4EF6\u7684props</li></ol><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">//4.</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">confirm-dialog</span><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u9009\u62E9\u5361\u7247</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">show</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">draggable</span><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    :onOk=&quot;onOk&quot; :onCancel=&quot;onCancel&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">pre</span><span style="color:#89DDFF;">&gt;{{</span><span style="color:#A6ACCD;">JSON.stringify(selectionIds)</span><span style="color:#89DDFF;">}}&lt;/</span><span style="color:#F07178;">pre</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">RefTable</span><span style="color:#89DDFF;"> :confs=&quot;cardViewDep.confs&quot; </span><span style="color:#676E95;font-style:italic;">// {tableConfs:Object, filterConfs:Object}</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cardViewDep.selectionIds</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#676E95;font-style:italic;">// \u8868\u683C\u7684\u9009\u4E2D\u9879 (\u503C\u4E3A\u6570\u636E\u7684\u552F\u4E00\u6807\u8BC6)</span></span>
<span class="line"><span style="color:#89DDFF;">      :model=&quot;cardViewDep.filterDep.formData&quot; </span><span style="color:#676E95;font-style:italic;">// \u540CEFilter\u7EC4\u4EF6\u7684\u540C\u540D\u5C5E\u6027</span></span>
<span class="line"><span style="color:#89DDFF;">      :do-reset=&quot;cardViewDep.filterDep.reset&quot; </span><span style="color:#676E95;font-style:italic;">// \u540CEFilter\u7EC4\u4EF6\u7684\u540C\u540D\u5C5E\u6027</span></span>
<span class="line"><span style="color:#89DDFF;">      :do-search=&quot;cardViewDep.hooks.firstPageList&quot; </span><span style="color:#676E95;font-style:italic;">// \u540CEFilter\u7EC4\u4EF6\u7684\u540C\u540D\u5C5E\u6027</span></span>
<span class="line"><span style="color:#89DDFF;">      :table-data=&quot;cardViewDep.tableDep.data&quot; </span><span style="color:#676E95;font-style:italic;">// \u540CETable\u7EC4\u4EF6\u7684data\u5C5E\u6027</span></span>
<span class="line"><span style="color:#89DDFF;">      :tableProps=&quot;cardViewDep.confs.tableProps&quot; </span><span style="color:#676E95;font-style:italic;">// ElTable\u7684\u5C5E\u6027\`{cellClassName?:Function, cellStyle?:Function}\`</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#C792EA;">v-bind</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tableProps</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#676E95;font-style:italic;">// \u8868\u683C\u4F5C\u4E3A\u8F93\u5165\u7EC4\u4EF6\u65F6\u7684v-model\u76F8\u5173\u914D\u7F6E</span></span>
<span class="line"><span style="color:#89DDFF;">      :table-ref=&quot;cardViewDep.tableDep.setRef&quot; </span><span style="color:#676E95;font-style:italic;">// \u7528\u4E8E\u83B7\u53D6\u8868\u683C\u6570\u636E\u548CElTable</span></span>
<span class="line"><span style="color:#89DDFF;">      :total=&quot;cardViewDep.tableDep.total&quot; </span><span style="color:#676E95;font-style:italic;">// \u540CElPagination\u7EC4\u4EF6\u7684\u540C\u540D\u5C5E\u6027</span></span>
<span class="line"><span style="color:#89DDFF;">      :pagProps=&quot;cardViewDep.pagProps&quot; </span><span style="color:#676E95;font-style:italic;">// ElPagination\u7EC4\u4EF6\u7684\u5E38\u7528props</span></span>
<span class="line"><span style="color:#89DDFF;">  &gt;&lt;/</span><span style="color:#FFCB6B;">RefTable</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">confirm-dialog</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//2.</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">EForm</span><span style="color:#89DDFF;"> :model=&quot;formDep.data&quot; :confs=&quot;confs.formConfs&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    :rules=&quot;confs.formRules&quot; :ref=&quot;formDep.setRef&quot;&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">  &lt;template #[form_item_slot_prefix+confs.formConfs.cardIds.k]=&quot;{conf, model}&quot;&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;ESelect </span><span style="color:#C792EA;">v-bind</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">conf.props</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#676E95;font-style:italic;">// form()\u751F\u6210\u7684\u8F93\u5165\u7EC4\u4EF6\u7684props</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">selectionIds</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#676E95;font-style:italic;">// \u8868\u683C\u7684\u5F53\u524D\u9009\u4E2D\u9879</span></span>
<span class="line"><span style="color:#89DDFF;">        :opts=&quot;unref(selectOpts)&quot; </span></span>
<span class="line"><span style="color:#89DDFF;">        :props=&quot;id_name_props&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        @click.native=&quot;cardIdSelClick&quot; </span><span style="color:#676E95;font-style:italic;">// \u70B9\u51FB\u65F6, \u5C55\u793A\u8868\u683C\u9009\u53D6\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">multiple</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">popper-class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">d-n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#676E95;font-style:italic;">// \u591A\u9009 \u548C \u9690\u85CFSelect\u7EC4\u4EF6\u7684Option</span></span>
<span class="line"><span style="color:#89DDFF;">    &gt;&lt;/</span><span style="color:#FFCB6B;">ESelect</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">EForm</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//2.</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> fields </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cardIds</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">field</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5361\u7247\u5217\u8868</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">form</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;">slotType</span><span style="color:#A6ACCD;">(form_item_slot_prefix)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">sty_w</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">100%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">))   </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//1.</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> cardViewDep </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useSimpleCrud</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">field</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5361\u540D</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">filter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">sty_w</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">150px</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">star</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">field</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u661F\u6570</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">api</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/cards</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">theme</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5361\u7247</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 3.  \u8FD4\u56DE\u503C\u8BF4\u660E\u53C2\u8003useRefTable\u6587\u6863</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> selectionVal </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">([])</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">onOk</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> onCancel</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> show</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tableProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">showTable</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">cardIdSelClick</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tableBoxRef</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setSelectionRows</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> selectionIds</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> selectOpts</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useRefTable</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">modelValue</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">selectionVal</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u7528\u4E8E\u83B7\u53D6\u8868\u683C\u6570\u636E\u548CElTable</span></span>
<span class="line"><span style="color:#A6ACCD;">tableBoxRef</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">tableDep</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> cardViewDep</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tableDep</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,4),e=[p];function t(c,r,D,F,y,i){return a(),l("div",null,e)}var f=s(o,[["render",t]]);export{A as __pageData,f as default};
